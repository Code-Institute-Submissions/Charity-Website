<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hover.css/2.3.1/css/hover-min.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/dc.min.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/style.css" type="text/css">


    <script type="text/javascript" src="assets/js/d3.min.js"></script>
    <script type="text/javascript" src="assets/js/crossfilter.min.js"></script>
    <script type="text/javascript" src="assets/js/dc.min.js"></script>
    <script type="text/javascript" src="assets/js/queue.min.js"></script>

    <title>Charity Base: Statistics Page</title>

</head>

<body>

    <nav class="navbar navbar-expand-sm  navbar-light fixed-top">

        <!--<div class="collapse navbar-collapse" id="navbarSupportedContent">-->
        <a href="index.html" class="navbar-brand navBrandColor">Charity Base</a>

        <button class="navbar-toggler ml-auto" data-toggle="collapse" data-target="#navbarNavDropdown" aria-expanded="navbarNavDropdown" aria-controls="false">
  
            <span class="navbar-toggler-icon"></span></button>

        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a href="index.html" class="nav-link hvr-shutter-out-vertical">Home</a>
                </li>
                <li class="nav-item">
                    <a href="map.html" class="nav-link hvr-shutter-out-vertical">Map</a>
                </li>
                <li class="nav-item">
                    <a href="statistics.html" class="nav-link hvr-shutter-out-vertical">Statistics</a>
                </li>
                <li class="nav-item">
                    <a href="donate.html" class="nav-link hvr-shutter-out-vertical">Donate</a>
                </li>
                <li class="nav-item">
                    <a href="contact.html" class="nav-link hvr-shutter-out-vertical">Contacts</a>
                </li>
            </ul>
        </div>
    </nav>

    <section>
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <div class="statisticsHeading">
                        <h2>Lowest GDP Per Capita In The World (Projected).</h2>
                    </div>
                    <div id="country-selector"></div>
                    <div class="chartStyling1">
                        <div id="gdp-per-capita-chart"></div>
                        <div id="gini-coefficient-chart"></div>
                        <p>DRC-Demcratic Republic of Congo, MZ-Mozambique, UG-Uganda, TJ-Tajikistan, YE-Yemen, HT-Haiti, ET-Ethopia, TZ-Tanzania, KG-Kyrgystan, UZ-Uzbekistan</p>
                    </div>
                </div>
                <div class="col-12">
                    <div class="chartText1">
                        <p class="text1">
                            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quam quidem, numquam amet aliquam blanditiis quae error. Cupiditate veritatis sapiente dignissimos doloribus qui omnis officia excepturi praesentium voluptas consequuntur quas reprehenderit est
                            laboriosam aspernatur ad autem consequatur ex quidem doloremque dolore aperiam totam, tempora enim! Atque officia optio corrupti, repudiandae repellat ipsa reprehenderit corporis nam culpa nihil numquam amet, saepe quod deserunt,
                            aut assumenda molestias aspernatur temporibus, necessitatibus eos! Corrupti, voluptates, illo! Cupiditate at, recusandae voluptatibus nesciunt harum iusto ratione ad eligendi itaque corporis accusantium voluptate inventore
                            beatae voluptas molestias quasi porro unde, eveniet consequatur, illo veniam deserunt! Reprehenderit, molestiae, sed.
                        </p>
                    </div>
                </div>
            </div>
        </div>


        <div class="chartStyling2">
            <h2>Costs of Food in Various Countries.</h2>
            <div id="costs-of-meals-chart"></div>
            <p>NG-Nigeria, DRC-Democratic Republic of Congo, HT-Haiti, MZ-Mozambique, YE-Yemen, SO-Somalia, SoP-State of Palestine, BD-Bangladesh, SV-El Salvador, ID-Indonesia, JO-Jordan, NY, USA-New York, USA</p>
        </div>

        <div class="chartStyling3">
            <h2>Lowest Gini Index Estimates From the World Bank</h2>
            <div id="gini-index-chart"></div>
            <p>ZA-South Africa, BW-Botswana, HT-Haiti, NM-Namibia, CA-Central African Republic</p>
        </div>

    </section>

    <script>
        queue()
            .defer(d3.json, 'assets/js/data.json')
            .await(createDataVis);

        function createDataVis(error, gdpData) {
            var ndx = crossfilter(gdpData);

            show_country_selector(ndx);
            show_gdps(ndx);

            dc.renderAll();
        }
        
        function show_country_selector(ndx) {
            dim = ndx.dimension(dc.pluck('country'));
            group = dim.group()
            
            dc.selectMenu("#country-selector")
                .dimension(dim)
                .group(group);
        }

        function show_gdps(ndx) {
            var name_dim = ndx.dimension(dc.pluck('country'));
            var draw_barchart_gdp_country = name_dim.group().reduceSum(dc.pluck('gdp'));
            dc.barChart('#gdp-per-capita-chart')
                .width(725)
                .height(270)
                .margins({ top: 10, right: 50, bottom: 30, left: 50 })
                .dimension(name_dim)
                .group(draw_barchart_gdp_country)
                .transitionDuration(500)
                .x(d3.scale.ordinal())
                .xUnits(dc.units.ordinal)
                .xAxisLabel('Country')
                .yAxisLabel('GDP Per Capita ($)')
                .yAxis().ticks(8);
                
            var gc_dim = ndx.dimension(dc.pluck('country'));
            var draw_barchart_gc_country = gc_dim.group().reduceSum(dc.pluck('gini-coefficient'));
            dc.barChart('#gini-coefficient-chart')
                .width(725)
                .height(270)
                .margins({ top: 10, right: 50, bottom: 30, left: 50 })
                .dimension(gc_dim)
                .group(draw_barchart_gc_country)
                .transitionDuration(500)
                .x(d3.scale.ordinal())
                .xUnits(dc.units.ordinal)
                .xAxisLabel('Country')
                .yAxisLabel('Gini Coefficient')
                .yAxis().ticks(8);

            var name_dim = ndx.dimension(dc.pluck('country'));
            var draw_barchart_gdp_country_pie = name_dim.group().reduceSum(dc.pluck('gini-coefficient'));
            dc.pieChart('#gdp-per-capita-pie-chart')
                .height(330)
                .radius(90)
                .transitionDuration(1500)
                .dimension(name_dim)
                .group(draw_barchart_gdp_country_pie);
        }
        /*var name_dim = ndx.dimension(dc.pluck('country'));
        var draw_barchart_gdp_rank = name_dim.group().reduceSum(dc.pluck('rank'));
        dc.barChart('#gdp-per-capita-chart-rank')
            .width(725)
            .height(270)
            .margins({ top: 10, right: 50, bottom: 30, left: 50 })
            .dimension(name_dim)
            .group(draw_barchart_gdp_rank)
            .transitionDuration(500)
            .x(d3.scale.ordinal())
            .xUnits(dc.units.ordinal)
            .xAxisLabel('Country')
            .yAxisLabel('Rank')
            .yAxis().ticks(4);*/

        /*
                    var ndx = crossfilter(costsData);
                    var name_dim = ndx.dimension(dc.pluck('country'));
                    var costs_of_food = name_dim.group().reduceSum(dc.pluck('price'));

                    dc.barChart('#costs-of-meals-chart')
                        .width(725)
                        .height(270)
                        .margins({ top: 10, right: 50, bottom: 30, left: 50 })
                        .dimension(name_dim)
                        .group(costs_of_food)
                        .transitionDuration(500)
                        .x(d3.scale.ordinal())
                        .xUnits(dc.units.ordinal)
                        .xAxisLabel('Country')
                        .yAxisLabel('Price of Food ($)')
                        .yAxis().ticks(4);

                   

                    var ndx = crossfilter(gini_index);
                    var name_dim = ndx.dimension(dc.pluck('country'));
                    var gini_coefficient = name_dim.group().reduceSum(dc.pluck('gini-index'));
                    dc.barChart('#gini-index-chart')
                        .width(725)
                        .height(270)
                        .margins({ top: 10, right: 50, bottom: 30, left: 50 })
                        .dimension(name_dim)
                        .group(gini_coefficient)
                        .transitionDuration(500)
                        .x(d3.scale.ordinal())
                        .xUnits(dc.units.ordinal)
                        .xAxisLabel('Country')
                        .yAxisLabel('Gini Index (%)')
                        .yAxis().ticks(4);
        */
    </script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

</body>

</html>
<!--IMPORTANT SOURCES
Gini Coefficient:
https://data.worldbank.org/indicator/SI.POV.GINI?view=map
https://www.focus-economics.com/blog/the-poorest-countries-in-the-world
https://www.theguardian.com/inequality/datablog/2017/apr/26/inequality-index-where-are-the-worlds-most-unequal-countries
-->
<!-- IMPORTANT SOURCES
https://insight.wfp.org/where-do-you-think-you-would-find-the-most-expensive-plate-of-food-in-the-world-408ed2856108
https://www.foodaidfoundation.org/world-hunger-statistics.html
https://beta.grafiti.io/facts/557233-extreme-poverty-asia-2018

statistics:
https://beta.grafiti.io/facts/557233-extreme-poverty-asia-2018
